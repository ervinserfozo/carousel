/**
 * Created by Ervin on 26.2.2017..
 */
window.onload=function(){var a=function(){var a,b,c,e,f,g,d="standard",h=[],i=[],j=function(c){if(null!=c&&(d=c),null==a)throw"Creator class must be set.";if(null==b)throw"Collector class must be set.";n(),o(),h=b.collectImages(),q(),p()},k=function(b){a=b},l=function(a){b=a},m=function(a){c=a},n=function(){e=a.createGalleryHolder(),f=a.createRealImageHolder(),g=a.createThumbnailHolder()},o=function(){e.appendChild(f),e.appendChild(g),document.body.appendChild(e)},p=function(){var b=h[0],c=i[0],d=a.createRealImage(b);r(d),t(c)},q=function(){h.forEach(function(b){var c=a.createThumbnailElement(b);u(c),i.push(c),g.appendChild(c)})},r=function(a){c.init(f,a,"fancy2")},s=function(b){var c=b.target,d=c.getAttribute("data"),e=a.createRealImage(d);r(e),t(c)},t=function(a){i.forEach(function(a){a.classList.remove("active")}),a.classList.add("active")},u=function(a){a.addEventListener("click",s)};return{init:j,setCreator:k,setCollector:l,setAnimator:m}}(),b=function(){var a=function(){var a=b(),c=document.createElement("div");return c.setAttribute("class","cGalleryHolder"),c.style.position="relative",c.appendChild(a),c},b=function(){var a=document.createElement("div");return a.setAttribute("class","cGalleryBackground"),a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="#cac8c8",a.style.borderRadius="10px",a.style.opacity=".7",a.style.zIndex=0,a},c=function(){var a=document.createElement("div");return a.setAttribute("class","cRealImageHolder"),a.style.position="relative",a},d=function(a){var b=document.createElement("img");return b.setAttribute("src",a),b.style.width="100%",b},e=function(){var a=document.createElement("div");return a.setAttribute("class","cThumbnailHolder"),a.style.position="relative",a.style.height="30px",a.style.padding="5px 15px 15px 15px",a},f=function(a){var b=document.createElement("div");return b.setAttribute("class","cThumbnail"),b.style.position="relative",b.setAttribute("data",a),b.style.backgroundImage="url('"+a+"')",b};return{createGalleryHolder:a,createGalleryBackground:b,createRealImageHolder:c,createRealImage:d,createThumbnailHolder:e,createThumbnailElement:f}},c=function(){var a=document.getElementsByClassName("imageCollection")[0].children,b=[],c=function(){for(var c=0;c<=a.length-1;c++)b.push(a[c].getAttribute("href"));return b};return{collectImages:c}},d=function(){var a,b,c=function(c,g,h){a=c,b=g,b.onload=function(){switch(h){case"standard":d();break;case"fancy":e();break;case"fancy2":f();break;default:d()}}},d=function(){var c=a.children;b.classList.add("new"),b.classList.add("standard"),c.length>0&&(c[0].classList.remove("current"),c[0].classList.add("new")),a.appendChild(b),h(b),b.classList.remove("new"),b.classList.add("current"),g()},e=function(){var c=a.children;b.classList.add("new"),b.classList.add("fancy"),0!=c.length&&(c[0].classList.remove("new"),c[0].classList.remove("top"),c[0].classList.add("bottom")),a.appendChild(b),h(b),b.classList.remove("new"),b.classList.add("top"),g()},f=function(){b.classList.add("new"),b.classList.add("fancy2");var c=a.children;0!=c.length&&(c[0].classList.remove("new"),c[0].classList.remove("top"),c[0].classList.add("bottom")),a.appendChild(b),h(b),b.classList.remove("new"),b.classList.add("top"),g()},g=function(){var b=a.children;setTimeout(function(){b.length>1&&("function"==typeof b[0].remove?b[0].remove():b[0].outerHTML="")},1e3)},h=function(b){var c=i(b);a.style.height=c+"px"},i=function(a){var b=a.height,c=a.width;return b/(c/560)};return{init:c}};a.setCreator(new b),a.setCollector(new c),a.setAnimator(new d),a.init()};